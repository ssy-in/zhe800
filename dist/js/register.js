"use strict";!function(){var o=/^1[356789]\d{9}$/,s=/^.{6,16}$/,l=!1,m=!1,e=!1;$("#pemail").on("focus",function(){""==$(this).val()&&($(".msg-phone").html("请输入一个正确的手机号码"),$(".msg-phone").css({color:"#999"}),l=!1)}),$("#pemail").on("blur",function(){l=o.test($(this).val())?($(".msg_box-1 em").css({display:"block"}),$(".msg-phone").html(""),!0):($(".msg_box-1 em").css({display:"none"}),$(".msg-phone").html("手机号码格式不正确"),$(".msg-phone").css({color:"red"}),!1)}),$("#password").on("focus",function(){""==$(this).val()&&($(".msg-pass").html("请输入一个6-16位密码"),$(".msg-pass").css({color:"#999"}),m=!1)}),$("#password").on("blur",function(){m=s.test($(this).val())?($(".msg_box-2 em").css({display:"block"}),$(".msg-pass").html(""),!0):($(".msg_box-2 em").css({display:"none"}),$(".msg-pass").html("密码为空或格式不正确"),$(".msg-pass").css({color:"red"}),!1)}),$("#password2").on("focus",function(){""==$(this).val()&&($(".msg-repass").html("再次输入密码"),$(".msg-repass").css({color:"#999"}),e=!1)}),$("#password2").on("blur",function(){e=$(this).val()===$("#password").val()&&""!==$("#password").val()?($(".msg_box-3 em").css({display:"block"}),$(".msg-repass").html(""),!0):($(".msg_box-3 em").css({display:"none"}),$(".msg-repass").html("两次密码要一致"),$(".msg-repass").css({color:"red"}),!1)}),$("#reg_submit").on("click",function(){l&&m&&e&&$.ajax({type:"post",url:"http://10.31.157.77/800/php/register.php",data:{username:$("#pemail").val(),password:$("#password").val()},success:function(s){$("#reg_submit").attr({href:"http://10.31.157.77/800/dist/login.html"})}})}),$("#pemail").on("blur",function(){$.ajax({type:"post",url:"http://10.31.157.77/800/php/register.php",data:{checkname:$("#pemail").val()},success:function(s){console.log(s),l=s?($(".msg_box-1 em").css({display:"none"}),$(".msg-phone").html("手机号码已存在"),$(".msg-phone").css({color:"red"}),!1):o.test($("#pemail").val())?($(".msg_box-1 em").css({display:"block"}),$(".msg-phone").html(""),!0):($(".msg_box-1 em").css({display:"none"}),$(".msg-phone").html("手机号码格式不正确"),$(".msg-phone").css({color:"red"}),!1)}})})}();