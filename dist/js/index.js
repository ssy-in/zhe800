"use strict";var _createClass=function(){function i(n,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,s){return t&&i(n.prototype,t),s&&i(n,s),n}}();function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}$(document).ready(function(){$(".header").load("../dist/header.html"),$(".main").load("../dist/main.html"),$(".footer").load("../dist/footer.html"),$.ajax({type:"post",url:"http://10.31.157.77/800/php/data%20clotheslist.php",dataType:"json",success:function(n){var t=$(".clothes-list"),s="";$.each(n,function(n,t){s+='\n        <li>\n          <a href="#">\n            <img src="'+t.url+'" alt="">\n            <p>&nbsp;￥'+t.price+"</p><br />\n            <strong>"+t.title+"</strong>\n          </a>\n        </li>\n       "}),t.html(s)},error:function(n){"timeout"==n.statusText&&alert("请求超时")}}),$.ajax({type:"post",url:"http://10.31.157.77/800/php/data.php",dataType:"json",success:function(n){console.log(n);var t=$(".index-data-ul"),s="";$.each(n,function(n,t){s+="\n            <li sid='"+t.sid+"'>\n            <a href=\"http://10.31.157.77/800/src/detailpage.html?sid="+t.sid+'">\n              <img src='+t.url+'\n                alt="">\n            </a>\n            <div class="data-description ">\n              <a href="http://10.31.157.77/800/src/detailpage.html?sid=\''+t.sid+"'\">"+t.title+'</a>\n            </div>\n            <h4>\n              <em class="addRed">\n                <b>¥</b>'+t.newprice+"\n              </em>\n              <del>¥"+t.oldprice+"\n              </del>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n              <a href=\"http://10.31.157.77/800/src/detailpage.html?sid='"+t.sid+"'\">找相似&gt;</a>\n              <i>剩余"+t.timeremaining+'天</i>\n            </h4>\n            \x3c!-- 隐藏框 --\x3e\n            <div class="bottom-word">\n              <span">包邮</span>\n              <i class="border_top"></i>\n              <a href="#">[详情]\n              </a>\n              <a href="#" class="shc mycol">收藏\n              </a>\n            </div>\n          </li> \n         '}),t.html(s)},error:function(n){"timeout"==n.statusText&&alert("请求超时")}}),$.ajax({type:"post",url:"http://10.31.157.77/800/php/data%20indexbanner.php",dataType:"json",success:function(n){var t,s=$(".left-banner"),i=[];function e(){_classCallCheck(this,e),this.$bbox=$(".left-banner"),this.$pics=$(".left-banner ul li"),this.$btns=$(".left-banner ol li"),this.$num=0,this.$timer=null}i.push(n),t='\n                <ul>\n                    <li style="display: block"><img src="'+i[0][0].url+'" alt=""></li>\n                    <li><img src="'+i[0][1].url+'" alt=""></li>\n                    <li><img src="'+i[0][2].url+'" alt=""></li>\n                    <li><img src="'+i[0][3].url+'" alt=""></li>\n                </ul>\n                <ol>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                </ol>\n                 ',console.log(t),s.html(t),(new(_createClass(e,[{key:"init",value:function(){var n=this;this.$btns.on("mouseover",function(){$(this).css({background:"red"}).siblings().css({background:"#fff"}),n.$pics.stop().animate({opacity:"show"},500).eq($(this).index()).show().siblings().hide()}),this.$timer=setInterval(function(){n.$num++,3<n.$num&&(n.$num=0),n.$pics.eq(n.$num).show().siblings().hide(),n.$btns.eq(n.$num).css({background:"red"}).siblings().css({background:"#fff"})},1e3),this.$bbox.on("mouseover",function(){clearInterval(n.$timer)}),this.$bbox.on("mouseout",function(){n.$timer=setInterval(function(){n.$num++,3<n.$num&&(n.$num=0),n.$pics.eq(n.$num).show().siblings().hide(),n.$btns.eq(n.$num).css({background:"red"}).siblings().css({background:"#fff"})},1e3)})}}]),e)).init()},error:function(n){"timeout"==n.statusText&&alert("请求超时")}})});